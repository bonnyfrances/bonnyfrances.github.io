
<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Render App Server | Web Backend Development</title>
    <meta name="viewport" content="width=device-width">
    <link
      rel="stylesheet"
      href="https://blainerobertson.github.io/340-js/css/340course-min.css"
      type="text/css"
      media="screen">
    <link
      rel="stylesheet"
      href="https://blainerobertson.github.io/340-js/css/prism-coy-dev.min.css"
      media="screen">
  </head>

  <body>
    <div id="wrapper">
      <header>
        <img src="https://blainerobertson.github.io/340-js/images/small_banner.jpg" alt="Course Banner">
      </header>
      <main>
    

        <h2>Add an Environment Variable</h2>
        <p>Let's add an environment variable that will help our application to distinguish between our computer, where we develop, and the server, which is our production environment.</p>
        <ol>
          <li>Click the "Add Environment Variable" button.</li>
          <li>In the "Key" input, type <mark>NODE_ENV</mark>.</li>
          <li>In the "Value" input, type <mark>production</mark>.</li>
          <li>Click the "Save Changes" button.</li>
        </ol>

        <h2>Add a Second Environment Variable</h2>
        <!-- <p>As long as you're here, let's add a second environment variable that will help our application to distinguish between our computer, where we develop, and the server, which is our production environment.</p>
        <ol>
          <li>Click the "Add Environment Variable" button.</li>
          <li>In the "Key" input, type <mark>NODE_ENV</mark>.</li>
          <li>In the "Value" input, type <mark>production</mark>.</li>
          <li>Click the "Save Changes" button.</li>
        </ol>

        <h2>Add a Third Environment Variable</h2> -->
        <p>The render.com web service developed a glitch in the Fall of 2023, which defaulted to an old version of Node for some reason. To fix the glitch we can indicate what version we want our service to run, by adding it as an environment variable. That is what you will do now.</p>
        <h3>Check your version of Node</h3>
        <ul>
          <li>Launch VS Code on your computer</li>
          <li>Open the built-in terminal</li>
          <li>Type "node --version", press Enter</li>
          <li>A line will appear showing your version number (e.g. v18.18.0)</li>
          <li>Copy just the numeric portion (e.g. 18.18.0)</li>
        </ul>
        <h3>Add an Environment Variable</h3>
        <ul>
          <li>Login to your render.com dashboard.</li>
          <li>Open your web service (Not the database service).</li>
          <li>Click on the "Environment" option link on the left.</li>
          <li>Click the "Add Environment Variable" button.</li>
          <li>In the "Key" input, type <mark>NODE_VERSION</mark>.</li>
          <li>In the "Value" input, type or paste the version number you copied as illustrated below:
            <div>
              <img
                src="https://blainerobertson.github.io/340-js/images/env_var-1.jpg"
                alt="Screenshot of creating a new environment variable setting">
            </div>
          </li>
          <li>Click the "Save Changes" button.</li>
          </ul>
        <h2>Check it out</h2>
        <p>With the service created, your code deployed, and the database connected, it is time to see if everything is working.</p>
        <ul>
          <li>In the Render.com Dashboard, at the top of the "Events" window, you should see the name you gave to your service. Beneath the name is a link to your application.
<div class="callout">
  <img
    src="https://blainerobertson.github.io/340-js/images/render-web-service-link.png"
    alt="Screenshot of link to the deployed application in the render dashboard."
  />
</div></li>
<li>Click the link. A new tab should open. If everything is working, you should see the application home page.</li>
        </ul>

        <p>If everything worked, fist bump the nearest person you can find! Well done.</p>
        <p>If things did not work, then consult your learning team, the TA or the professor. But get help to make sure things work!</p>

        <h2>Tracking Use</h2>
        <p>
          As is, the application server is "active" and connected to the
          database server. The actual usage is very small. However, it is very
          important to keep track of your use. To do this is pretty easy and is
          the same for both services.
        </p>
        <ol>
          <li>If you are at the Dashboard, click one of the services.</li>
          <li>
            Once within one of the services, click the "Metrics" option, on the left.
          </li>
          <li>
            Review the use totals. Make sure they are within the stated limits.
          </li>
          <li>
            If, for whatever reason, you exceed the limits the service will stop, and you will be notified that you have exceeded the limit. The option is to take steps to remove materials if you have exceeded a storage limit, reduce use if an access or bandwidth limit, or move to a paid plan.
          </li>
        </ol>

        <h2>Conclusion</h2>
        <p>
          With the service in place and our application deployed, we need to understand how to add to what we've got - deploy updates. We will look at that in the next activity.
        </p>
      </main>
      <footer>
        <a
          rel="license"
          href="https://blainerobertson.github.io//creativecommons.org/licenses/by-sa/3.0/deed.en_US"
          ><img
            alt="Creative Commons License"
            style="border-width: 0"
            src="https://blainerobertson.github.io//i.creativecommons.org/l/by-sa/3.0/88x31.png"></a>
        All materials (except as noted) are by Blaine Robertson and licensed
        under a
        <a
          rel="license"
          href="https://blainerobertson.github.io//creativecommons.org/licenses/by-sa/3.0/deed.en_US"
          >Creative Commons Attribution-ShareAlike 3.0 License</a
        >.
      </footer>
    </div>
    <script src="https://blainerobertson.github.io/340-js/js/prism-coy-dev.min.js"></script>
  </body>
</html>
